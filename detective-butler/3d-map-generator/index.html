<!doctype html> <!-- Minimal Mistakes Jekyll Theme 4.17.2 by Michael Rose Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes Free for personal and commercial use under the MIT license https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE --><html lang="en" class="no-js"><head><meta charset="utf-8"> <!-- begin _includes/seo.html --><title>3D Map Generator - Goldbar Games</title><meta name="description" content="We’ve been working on a 3D Map Generator to create 3D maps for Detective Butler."><meta property="og:type" content="article"><meta property="og:locale" content="en_US"><meta property="og:site_name" content="Goldbar Games"><meta property="og:title" content="3D Map Generator"><meta property="og:url" content="//www.goldbargames.com/detective-butler/3d-map-generator/"><meta property="og:description" content="We’ve been working on a 3D Map Generator to create 3D maps for Detective Butler."><meta name="twitter:site" content="@GoldbarGames"><meta name="twitter:title" content="3D Map Generator"><meta name="twitter:description" content="We’ve been working on a 3D Map Generator to create 3D maps for Detective Butler."><meta name="twitter:url" content="//www.goldbargames.com/detective-butler/3d-map-generator/"><meta name="twitter:card" content="summary"><meta property="article:published_time" content="2015-10-06T04:20:12+00:00"><link rel="canonical" href="//www.goldbargames.com/detective-butler/3d-map-generator/"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Person", "name": "Goldbar Games", "url": "//www.goldbargames.com/" } </script> <!-- end _includes/seo.html --><link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Goldbar Games Feed"> <!-- https://t.co/dKP3o1e --><meta name="viewport" content="width=device-width, initial-scale=1.0"> <script> document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js '; </script> <!-- For all browsers --><link rel="stylesheet" href="/assets/css/main.css"> <!--[if IE]><style> /* old IE unsupported flexbox fixes */ .greedy-nav .site-title { padding-right: 3em; } .greedy-nav button { position: absolute; top: 0; right: 0; height: 100%; }</style><![endif]--> <!-- start custom head snippets --> <!-- insert favicons. use https://realfavicongenerator.net/ --> <!-- end custom head snippets --></head><body class="layout--single"><nav class="skip-links"><h2 class="screen-reader-text">Skip links</h2><ul><li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li><li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li><li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li></ul></nav><!--[if lt IE 9]><div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]--><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav id="site-nav" class="greedy-nav"> <a class="site-title" href="/"> Goldbar Games </a><ul class="visible-links"><li class="masthead__menu-item"> <a href="/about/" >About</a></li><li class="masthead__menu-item"> <a href="/news/" >News</a></li><li class="masthead__menu-item"> <a href="/games/" >Games</a></li><li class="masthead__menu-item"> <a href="https://store.goldbargames.com" >Store</a></li><li class="masthead__menu-item"> <a href="/rewards/" >Rewards</a></li></ul><button class="search__toggle" type="button"> <span class="visually-hidden">Toggle search</span> <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16"><path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path> </svg> </button> <button class="greedy-nav__toggle hidden" type="button"> <span class="visually-hidden">Toggle menu</span><div class="navicon"></div></button><ul class="hidden-links hidden"></ul></nav></div></div></div><div class="initial-content"><div id="main" role="main"><article class="page" itemscope itemtype="https://schema.org/CreativeWork"><meta itemprop="headline" content="3D Map Generator"><meta itemprop="description" content="We’ve been working on a 3D Map Generator to create 3D maps for Detective Butler."><meta itemprop="datePublished" content="2015-10-06T04:20:12+00:00"><div class="page__inner-wrap"><header><h1 id="page-title" class="page__title" itemprop="headline">3D Map Generator</h1><p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 3 minute read</p></header><section class="page__content" itemprop="text"><p>The 3D Map Generator is a piece of functionality I’d been working on recently for Detective Butler. Basically, our goal was to release chapters in a fairly timely manner. Our biggest hurdle in doing so was getting 3D models for the backgrounds. It was difficult and time-consuming for us (read: me) to work in Sketchup to create the backgrounds, and any mistakes would be too costly to try and redo. In short, we needed a quick and efficient way to make our backgrounds, and this idea seemed like it would work the best.</p><p>The inspiration for this idea actually came from Runescape, with its simplistic-looking terrain grid. Having a grid-based system would be advantageous so that all other cinematic features (camera panning) and interactivity (clickable objects) can be measured on a unit scale. So for example, we might want to move the camera 10 tiles, or only have one object per tile, or maybe have an object take up four tiles. In other words, this grid system would make our backgrounds look a lot nicer than just trying to make a freeform model in Sketchup (and trying but failing to be consistent). The consistency is instead handled by Unity, and as I like to say, it’s going to be a lot easier to keep track of things if I just let the computer handle all the math for me.</p><p>Basically, the purpose of the 3D Map Generator is to take in a text file as input, which has a map drawn out in ASCII characters. Then, while running it in Unity, it converts that map into a 3D map, generating it tile by tile at runtime. Afterward, I can save the map as a game object prefab, and use it as much as I want later on. The process I took to create the map generator is as follows:</p><ol><li>Generate a single 3D tile from within the code</li><li>Generate a grid of 3D tiles from within the code</li><li>Add variations of height to the grid</li><li>Connect the different heights by creating slopes</li><li>Add variations in texture to each tile</li><li>Ability to combine all same-material meshes into a single mesh</li><li>Ability to save the object as a prefab</li><li>Generate a single wall (multiple tiles connected)</li><li>Add variations of height to the wall</li><li>Generate a tile or a wall based on text file input</li><li>Add variations in height, objects, and texture to the text file</li><li>Add automatic rotation checking based on adjacent tiles</li></ol><p>Each step probably took between 1-3 days. Overall, the system took the entirety of September to get into a useful state. Currently, it’s useful for creating rooms of buildings and mountainous landscapes. Given a text file, it takes maybe at most five minutes to create a 3D map which can be used as a background. All aspects of the 3D map can also be edited manually in the Unity editor after being generated, in case there’s something else you want to add, remove, or modify.</p><p>Here is an example of a map:</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//You need this blank line at the top, and an extra . at the end of every row.
*******...........
*.....*...........
*.....*...........
*.....*...........
*.....*...........
*.....*****d*****.
*...............*.
*...............*.
*...............*.
*...............*.
*...............*.
*************..**.
*************..**.
**.........**..**.
**.........**..**.
******d*****....*.
*..........*....*.
*..........*....*.
*..........d....*.
*..........*....*.
*..........*....*.
*************..**.
</code></pre></div></div><p>Yes, that’s all. And here is what it looks like in-game:</p><p><img src="/images/blog/map-example.jpg" alt="map-example" /></p><p>Note that tile texture and height use their own individual files, and so each tile’s texture and height can be unique. The final image shows multiple textures, as well as doors (represented by ‘d’ in the input file) that automatically rotate to align with each wall.</p><p>So, the rate at which we can create maps/backgrounds for Detective Butler has improved tremendously. We’ll be able to use this to literally show you maps of the area, which will be useful for solving each crime. The camera view will switch between the standard visual novel perspective and the overhead map view. And of course, we will continue to add functionality to create more complex maps as time goes on.</p></section><footer class="page__meta"><p class="page__taxonomy"> <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong> <span itemprop="keywords"> <a href="/categories/#detective-butler" class="page__taxonomy-item" rel="tag">detective-butler</a> </span></p><p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2015-10-06T04:20:12+00:00">October 6, 2015</time></p></footer><section class="page__share"><h4 class="page__share-title">Share on</h4><a href="https://twitter.com/intent/tweet?via=GoldbarGames&text=3D+Map+Generator%20%2F%2Fwww.goldbargames.com%2Fdetective-butler%2F3d-map-generator%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=%2F%2Fwww.goldbargames.com%2Fdetective-butler%2F3d-map-generator%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://www.linkedin.com/shareArticle?mini=true&url=%2F%2Fwww.goldbargames.com%2Fdetective-butler%2F3d-map-generator%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a></section><nav class="pagination"> <a href="/detective-butler/visual-novel-or-adventure-game/" class="pagination--pager" title="Visual Novel, or Adventure Game? ">Previous</a> <a href="/goldbar-game-jam/goldbar-game-jam-1-tic-tac-toe/" class="pagination--pager" title="Goldbar Game Jam 1 - Tic-Tac-Toe ">Next</a></nav></div><div class="page__comments"><h4 class="page__comments-title">Leave a comment</h4><section id="disqus_thread"></section></div></article><div class="page__related"><h4 class="page__related-title">You may also enjoy</h4><div class="grid__wrapper"><div class="grid__item"><article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"><h2 class="archive__item-title" itemprop="headline"> <a href="/detective-butler-choices-dlc/" rel="permalink">Detective Butler Choices DLC </a></h2><p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 2 minute read</p><p class="archive__item-excerpt" itemprop="description">Overview</p></article></div><div class="grid__item"><article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"><h2 class="archive__item-title" itemprop="headline"> <a href="/plans-for-a-new-decade/" rel="permalink">Plans for a New Decade </a></h2><p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 2 minute read</p><p class="archive__item-excerpt" itemprop="description">Detective Butler DLC and our own custom game engine!</p></article></div><div class="grid__item"><article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"><h2 class="archive__item-title" itemprop="headline"> <a href="/getting-closer/" rel="permalink">Getting Closer </a></h2><p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 1 minute read</p><p class="archive__item-excerpt" itemprop="description">Almost able to make a game in our own engine!</p></article></div><div class="grid__item"><article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"><h2 class="archive__item-title" itemprop="headline"> <a href="/slow-progress/" rel="permalink">Slow Progress </a></h2><p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 1 minute read</p><p class="archive__item-excerpt" itemprop="description">Slow and steady…</p></article></div></div></div></div></div><div class="search-content"><div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';"> <label class="sr-only" for="search"> Enter your search term... </label> <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." /> </form><div id="results" class="results"></div></div></div><div id="footer" class="page__footer"><footer> <!-- start custom footer snippets --> <!-- end custom footer snippets --><div class="page__footer-follow"><ul class="social-icons"><li><strong>Follow:</strong></li><li><a href="https://twitter.com/GoldbarGames" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li><li><a href="https://www.facebook.com/GoldbarGames" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li><li><a href="https://github.com/GoldbarGames" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li><li><a href="https://www.instagram.com/GoldbarGames/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li><li><a href="https://www.patreon.com/goldbargames" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-patreon" aria-hidden="true"></i> Patreon</a></li><li><a href="https://twitch.tv/goldbargames" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitch" aria-hidden="true"></i> Twitch</a></li><li><a href="https://www.subscribestar.com/goldbar-games" rel="nofollow noopener noreferrer"><i class="fas fa-link" aria-hidden="true"></i> SubscribeStar</a></li><li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li></ul></div><div class="page__footer-copyright">&copy; 2020 Goldbar Games.</div></footer></div><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> <script src="/assets/js/main.min.js"></script> <script src="https://kit.fontawesome.com/4eee35f757.js"></script> <script src="/assets/js/lunr/lunr.min.js"></script> <script src="/assets/js/lunr/lunr-store.js"></script> <script src="/assets/js/lunr/lunr-en.js"></script> <script> window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date; ga('create','UA-52344030-1','auto'); ga('set', 'anonymizeIp', false); ga('send','pageview') </script> <script src="https://www.google-analytics.com/analytics.js" async></script> <script type="text/javascript"> /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */ var disqus_shortname = 'goldbargames'; /* * * DON'T EDIT BELOW THIS LINE * * */ (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); /* * * DON'T EDIT BELOW THIS LINE * * */ (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></body></html>
