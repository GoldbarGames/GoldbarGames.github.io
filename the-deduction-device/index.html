<!doctype html> <!-- Minimal Mistakes Jekyll Theme 4.17.2 by Michael Rose Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes Free for personal and commercial use under the MIT license https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE --><html lang="en" class="no-js"><head><meta charset="utf-8"> <!-- begin _includes/seo.html --><title>The Deduction Device - Goldbar Games</title><meta name="description" content="Designing the user interface for Detective Butler 2"><meta property="og:type" content="article"><meta property="og:locale" content="en_US"><meta property="og:site_name" content="Goldbar Games"><meta property="og:title" content="The Deduction Device"><meta property="og:url" content="//www.goldbargames.com/the-deduction-device/"><meta property="og:description" content="Designing the user interface for Detective Butler 2"><meta name="twitter:site" content="@GoldbarGames"><meta name="twitter:title" content="The Deduction Device"><meta name="twitter:description" content="Designing the user interface for Detective Butler 2"><meta name="twitter:url" content="//www.goldbargames.com/the-deduction-device/"><meta name="twitter:card" content="summary"><meta property="article:published_time" content="2017-11-25T06:45:30+00:00"><link rel="canonical" href="//www.goldbargames.com/the-deduction-device/"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Person", "name": "Goldbar Games", "url": "//www.goldbargames.com/" } </script> <!-- end _includes/seo.html --><link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Goldbar Games Feed"> <!-- https://t.co/dKP3o1e --><meta name="viewport" content="width=device-width, initial-scale=1.0"> <script> document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js '; </script> <!-- For all browsers --><link rel="stylesheet" href="/assets/css/main.css"> <!--[if IE]><style> /* old IE unsupported flexbox fixes */ .greedy-nav .site-title { padding-right: 3em; } .greedy-nav button { position: absolute; top: 0; right: 0; height: 100%; }</style><![endif]--> <!-- start custom head snippets --> <!-- insert favicons. use https://realfavicongenerator.net/ --> <!-- end custom head snippets --></head><body class="layout--single"><nav class="skip-links"><h2 class="screen-reader-text">Skip links</h2><ul><li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li><li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li><li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li></ul></nav><!--[if lt IE 9]><div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]--><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav id="site-nav" class="greedy-nav"> <a class="site-title" href="/"> Goldbar Games </a><ul class="visible-links"><li class="masthead__menu-item"> <a href="/about/" >About</a></li><li class="masthead__menu-item"> <a href="/news/" >News</a></li><li class="masthead__menu-item"> <a href="/games/" >Games</a></li><li class="masthead__menu-item"> <a href="https://store.goldbargames.com" >Store</a></li><li class="masthead__menu-item"> <a href="/rewards/" >Rewards</a></li></ul><button class="search__toggle" type="button"> <span class="visually-hidden">Toggle search</span> <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16"><path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path> </svg> </button> <button class="greedy-nav__toggle hidden" type="button"> <span class="visually-hidden">Toggle menu</span><div class="navicon"></div></button><ul class="hidden-links hidden"></ul></nav></div></div></div><div class="initial-content"><div id="main" role="main"><article class="page" itemscope itemtype="https://schema.org/CreativeWork"><meta itemprop="headline" content="The Deduction Device"><meta itemprop="description" content="Designing the user interface for Detective Butler 2"><meta itemprop="datePublished" content="2017-11-25T06:45:30+00:00"><div class="page__inner-wrap"><header><h1 id="page-title" class="page__title" itemprop="headline">The Deduction Device</h1><p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 4 minute read</p></header><section class="page__content" itemprop="text"><h2>Overview</h2><p>Throughout most of the development of <em>Detective Butler 2</em> so far, I’ve been concerned with function over form. That is, I started working on the game by prototyping its gameplay. Early in development, the visuals don’t really matter so much, because eventually they’ll be replaced or improved. As a game reaches its final development stages, graphical improvements become more common.</p><p>So, with all that said – it’s about time we start looking into graphical improvements, right? That includes ways of cleaning up the user interface. In today’s blog post I’ll be explaining what I’ve done during this past month to improve our graphics, user interface, and even bring down our filesize to less than a third of what it used to be!</p><h2>Graphical Enhancements</h2><p>As you probably know by now, <em>Detective Butler 2</em> utilizes 3D models for its backgrounds. But rather than rendering them into a flat plane, we keep them in 3D and simply change the camera angle. One obvious downside is that if you want realistic-looking models, you’ll need lots of polygons per model, which hurts game performance. It’s always a trade-off between performance and quality. But there’s a neat trick I learned about recently called texture mapping.</p><p>Now, at this point in time I’m still not much of an expert on texture mapping, but the idea works like this: rather than increasing the polygon count of your models to simulate light and shadows, your textures are processed by certain programs that can calculate where the lights and shadows should go (I have been using CrazyBump). Thus, the information about light, shadow, smoothness, sharpness, etc. can be stored inside the texture material rather than generated by the game at runtime. This process is called mapping the texture, and there are several different types of maps: bump maps, specular maps, occlusion maps, normal maps, and so on. Basically, if a game has awesome graphics, it probably uses texture mapping to some degree.</p><p>You can see the difference. Compare to a screenshot of DB2 before and after texture mapping:</p><p><img src="//www.goldbargames.com/images/blog/db2_mapping.jpg" alt="Screenshot" /></p><h2>The New User Interface</h2><p>You have probably seen the textbox menu in several screenshots by now, but I haven’t previously explained what each button actually does. Prior to upgrading the graphical user interface, each feature was slightly disconnected from each other, both functionally and visually. But I’ve created a way to link them all together: through the Deduction Device!</p><p>The <strong>Deduction Device</strong> (tentative name, but I like the alliteration) is a smartphone-like device that allows Detective Butler to more easily solve mysteries. What exactly does it do? Everything a mystery fanatic would want!</p><p>The <strong>Map</strong> feature shows a satellite view of the surrounding area, pointing out any nearby locations and people of interest.</p><p>The <strong>Evidence</strong> feature shows a list of all evidence that has been collected so far, including its name, description, and 3D picture.</p><p>The <strong>History</strong> feature shows a comprehensive log of all conversations with all people of interest, organized by topic.</p><p>The <strong>Settings</strong> feature allows Butler to adjust the settings on his device, including graphics quality, screen resolution, and toggle any filters.</p><p>All of these features are designed to make the mystery-solving process a lot more intuitive and also a lot more fun! All the information you need will be at your fingertips - you just need to use your brain to piece it all together!</p><p>Here’s a work-in-progress screenshot of the Deduction Device, with some placeholder data inside:</p><p><img src="//www.goldbargames.com/images/blog/db2_ddevice.jpg" alt="Screenshot" /></p><h2>File Size Reduction</h2><p>Last but not least, despite improving the graphics and user interface, we’ve somehow managed to <em>decrease</em> the game’s file size! How does <em>that</em> happen?!</p><p>In order to understand, we once again have to go over how I’m implementing the sprites. The characters each have a body, a head, and a face, each individual sprites. These parts are layered on top of each other in-game. As such, I had been storing them in files the same way I had been storing the sprites in the first game, like so:</p><p><img src="//www.goldbargames.com/images/blog/db2_filesize.jpg" alt="Screenshot" /></p><p>This way, when layered on top of each other, the head and face would always be in the correct position. However, I didn’t realize this was unnecessarily bloating the file size of the project. Because the height of each face file is 1024, despite the fact that each face is only about 200x200 pixels in area, the texture is treated as a 1024x1024 texture. This results in a lot of wasted space. By simply cropping the faces and heads, I was able to reduce a 2 MB file down to a 20 KB file. That’s 1/100th of its previous size!</p><p>Keep in mind, I had to code a way to align the heads and faces with each body, but it only took about two hours to make. At the start of the scene, the game reads from a text file where I manually wrote down the coordinates required to move each head and face into the correct place for each character. It’s a little bit of manual labor, but it’s well worth the reduction in file size. The game’s build went from 1.5 GB to 400 MB! I’ll continue looking for additional optimizations, including compressing the audio files and using the lowest-poly 3D models I can find (or make). I don’t want people to be discouraged from trying the game due to an unnecessarily large file size, and it’s even better if I can improve the graphics while I’m at it!</p><p>By the way, keep your eyes peeled for another announcement near the end of the month. If all goes well, our monthly game will be ready to play!</p></section><footer class="page__meta"><p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-11-25T06:45:30+00:00">November 25, 2017</time></p></footer><section class="page__share"><h4 class="page__share-title">Share on</h4><a href="https://twitter.com/intent/tweet?via=GoldbarGames&text=The+Deduction+Device%20%2F%2Fwww.goldbargames.com%2Fthe-deduction-device%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=%2F%2Fwww.goldbargames.com%2Fthe-deduction-device%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://www.linkedin.com/shareArticle?mini=true&url=%2F%2Fwww.goldbargames.com%2Fthe-deduction-device%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a></section><nav class="pagination"> <a href="/kaneko-update-6-level-editor/" class="pagination--pager" title="Kaneko Update 6 - Level Editor ">Previous</a> <a href="/general/postmortem-2017/" class="pagination--pager" title="Postmortem 2017 ">Next</a></nav></div><div class="page__comments"><h4 class="page__comments-title">Leave a comment</h4><section id="disqus_thread"></section></div></article><div class="page__related"><h4 class="page__related-title">You may also enjoy</h4><div class="grid__wrapper"><div class="grid__item"><article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"><h2 class="archive__item-title" itemprop="headline"> <a href="/plans-for-a-new-decade/" rel="permalink">Plans for a New Decade </a></h2><p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 2 minute read</p><p class="archive__item-excerpt" itemprop="description">Detective Butler DLC and our own custom game engine!</p></article></div><div class="grid__item"><article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"><h2 class="archive__item-title" itemprop="headline"> <a href="/getting-closer/" rel="permalink">Getting Closer </a></h2><p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 1 minute read</p><p class="archive__item-excerpt" itemprop="description">Almost able to make a game in our own engine!</p></article></div><div class="grid__item"><article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"><h2 class="archive__item-title" itemprop="headline"> <a href="/slow-progress/" rel="permalink">Slow Progress </a></h2><p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 1 minute read</p><p class="archive__item-excerpt" itemprop="description">Slow and steady…</p></article></div><div class="grid__item"><article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"><h2 class="archive__item-title" itemprop="headline"> <a href="/level-editor-is-ready/" rel="permalink">Level Editor is Ready </a></h2><p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 1 minute read</p><p class="archive__item-excerpt" itemprop="description">We’ve developed an easy way to make levels in our game engine</p></article></div></div></div></div></div><div class="search-content"><div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';"> <label class="sr-only" for="search"> Enter your search term... </label> <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." /> </form><div id="results" class="results"></div></div></div><div id="footer" class="page__footer"><footer> <!-- start custom footer snippets --> <!-- end custom footer snippets --><div class="page__footer-follow"><ul class="social-icons"><li><strong>Follow:</strong></li><li><a href="https://twitter.com/GoldbarGames" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li><li><a href="https://www.facebook.com/GoldbarGames" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li><li><a href="https://github.com/GoldbarGames" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li><li><a href="https://www.instagram.com/GoldbarGames/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li><li><a href="https://www.patreon.com/goldbargames" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-patreon" aria-hidden="true"></i> Patreon</a></li><li><a href="https://twitch.tv/goldbargames" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitch" aria-hidden="true"></i> Twitch</a></li><li><a href="https://www.subscribestar.com/goldbar-games" rel="nofollow noopener noreferrer"><i class="fas fa-link" aria-hidden="true"></i> SubscribeStar</a></li><li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li></ul></div><div class="page__footer-copyright">&copy; 2020 Goldbar Games.</div></footer></div><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> <script src="/assets/js/main.min.js"></script> <script src="https://kit.fontawesome.com/4eee35f757.js"></script> <script src="/assets/js/lunr/lunr.min.js"></script> <script src="/assets/js/lunr/lunr-store.js"></script> <script src="/assets/js/lunr/lunr-en.js"></script> <script> window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date; ga('create','UA-52344030-1','auto'); ga('set', 'anonymizeIp', false); ga('send','pageview') </script> <script src="https://www.google-analytics.com/analytics.js" async></script> <script type="text/javascript"> /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */ var disqus_shortname = 'goldbargames'; /* * * DON'T EDIT BELOW THIS LINE * * */ (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); /* * * DON'T EDIT BELOW THIS LINE * * */ (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></body></html>
